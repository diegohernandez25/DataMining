<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example GL Map</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

    <!--
        Default public token:
        pk.eyJ1IjoiZGllZ29oZXJuYW5kZXoyNSIsImEiOiJjazI0eGFpaXMwaTV4M25wOXF0aGQ0bzFwIn0.xZqxrObiF36MQbx-HrmR6A

        ExampleGLMap
        pk.eyJ1IjoiZGllZ29oZXJuYW5kZXoyNSIsImEiOiJjazI0eGJkZ2MyZDJ3M2VxdGV2NWdrcjg1In0.m1pzavOyco0Cn1W93-Q0Pg
    -->

    <link rel="stylesheet" type="text/css" href="css/map.css">
    <script type="text/javascript" src="js/index.js"></script>

    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.css' rel='stylesheet' />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>


</head>

<body>
    <style type='text/css'>
      #info{
        display: block;
        position: relative;
        margin: 0px auto;
        width: 50%;
        padding: 10px;
        border: none;
        border-radius: 3px;
        font-size: 12px;
        text-align: center;
        color: #222;
        background: #fff;
      }
    </style>


    <div class="mapbase-wrap">
        <div id='map'class="map"></div>

    </div>
    <pre id='info'></pre>
    <button type="button" onclick="getAllHexagons()">Change Content</button>
    <script>

        mapboxgl.accessToken = 'pk.eyJ1IjoiZGllZ29oZXJuYW5kZXoyNSIsImEiOiJjazI0eGFpaXMwaTV4M25wOXF0aGQ0bzFwIn0.xZqxrObiF36MQbx-HrmR6A';
            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/streets-v11'
            });

        map.on('click', function (e){
          getAreaAnalysis(e.lngLat)
        });
    </script>
    <h1> Types of point of interest.</h1>

    <input type="checkbox" name="airport" value="airport"> Airport<br>
    <input type="checkbox" name="amusement_park" value="amusement_park" > Amusement Park<br>
    <input type="checkbox" name="art_gallery" value="art_gallery" > Art Gallery<br>
    <input type="checkbox" name="casino" value="casino" > Casino<br>
    <input type="checkbox" name="cementery" value="cementery" > Cementery<br>
    <input type="checkbox" name="church" value="church" > Church<br>
    <input type="checkbox" name="city_hall" value="city_hall" > City Hall<br>
    <input type="checkbox" name="university" value="university" >University<br>
    <input type="checkbox" name="hindu_temple" value="hindu_temple" > Hindu Temple<br>
    <input type="checkbox" name="stadium" value="stadium" >Stadium<br>
    <input type="checkbox" name="rv_park" value="rv_park" >RV Park<br>
    <input type="checkbox" name="park" value="park" >Park<br>
    <input type="checkbox" name="museum" value="museum" >Museum<br>
    <input type="checkbox" name="place_of_worship" value="place_of_worship" >Place of Worship<br>
    <input type="submit" id="submit_btn" value="Submit">

    <canvas id="line-chart" width="800" height="450"></canvas>
    <script>
      new Chart(document.getElementById("line-chart"), {
      type: 'line',
      data: {
        labels: [1500,1600,1700,1750,1800,1850,1900,1950,1999,2050],
        datasets: [{
            data: [86,114,106,106,107,111,133,221,783,2478],
            label: "Africa",
            borderColor: "#3e95cd",
            fill: false
          }, {
            data: [282,350,411,502,635,809,947,1402,3700,5267],
            label: "Asia",
            borderColor: "#8e5ea2",
            fill: false
          }, {
            data: [168,170,178,190,203,276,408,547,675,734],
            label: "Europe",
            borderColor: "#3cba9f",
            fill: false
          }, {
            data: [40,20,10,16,24,38,74,167,508,784],
            label: "Latin America",
            borderColor: "#e8c3b9",
            fill: false
          }, {
            data: [6,3,2,2,7,26,82,172,312,433],
            label: "North America",
            borderColor: "#c45850",
            fill: false
          }
        ]
      },
      options: {
        title: {
          display: true,
          text: 'World population per region (in millions)'
        }
      }
      });

    </script>

    <script>
    $("#submit_btn").on('click', function(){
      var checkbox_value = [];
      $(":checkbox").each(function(){
        var ischecked = $(this).is(":checked");
        if(ischecked){
          checkbox_value.push($(this).val());
        }
      });
      getPois(checkbox_value);
    });
    </script>


</body>
</html>
